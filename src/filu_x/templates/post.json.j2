{
  "$schema": "https://filu-x.org/schemas/post-v{{ version }}.json",
  "version": "{{ version }}",
  "id": "{{ post_id }}",
  "author": "@{{ username }}",
  "pubkey": "{{ pubkey }}",
  "post_type": "{{ post_type }}",
  "content_type": "text/plain",
  "content": {{ content|tojson }},
  "attachments": [],
  "prev_post_cid": {{ prev_post_cid|default('null')|tojson }},
  "tags": [],
  {# Thread-specific fields (only if post_type = "thread") #}
  "thread_title": {{ thread_title|default('null')|tojson }},
  "thread_description": {{ thread_description|default('null')|tojson }},
  "thread_ipns": {{ thread_ipns|default('null')|tojson }},
  {# Reply-specific fields (only if post_type = "simple" and reply_to exists) #}
  "thread_id": {{ thread_id|default('null')|tojson }},
  "reply_to": {{ reply_to|default('null')|tojson }},
  "participants": {{ participants|default([])|tojson }},
  "reply_count": 0,
  "created_at": "{{ created_at }}",
  "updated_at": "{{ updated_at }}",
  "signature": "{{ signature }}",
  "access_points": [
    {
      "protocol": "local",
      "path": "posts/{{ post_id }}.json",
      "priority": 1
    }
  ]
}
